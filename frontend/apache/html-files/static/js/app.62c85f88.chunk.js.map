{"version":3,"sources":["src/style/colours.js","src/style/styles.js","src/components/asset-history.js","src/views/asset-tag-scanning.js","App.js"],"names":["colours","background","text_primary","text_secondary","styles","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent","mainPage","flexDirection","textbox","color","font","fontSize","textAlign","input","borderRadius","height","width","outlineStyle","historyContainer","borderWidth","padding","marginRight","inputContainer","historyText","ListItem","time_stamp","View","Text","style","AssetHistory","props","history","data","JSON","parse","FlatList","renderItem","item","keyExtractor","id","AssetTagScanning","React","useState","text","setText","responseText","setResponseText","setHistory","inputRef","useRef","TextInput","onChangeText","value","autoFocus","onSubmitEditing","asset_tag","toUpperCase","test","uri","fetch","then","response","error","alert","focus","ref","Stack","createNativeStackNavigator","App","NavigationContainer","Navigator","Screen","name","component"],"mappings":"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","file":"static/js/app.62c85f88.chunk.js","sourcesContent":["const colours = {\n    background : \"#F2EBE9\",\n    text_primary : \"#A5BECC\",\n    text_secondary : \"#243A73\"\n    //#050609, #f5d0c5, #d69f7e, #774936, #3c0000\n}\n\nexport default colours","import { StyleSheet } from \"react-native\";\nimport colours from \"./colours\";\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: colours.background,\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n\n    mainPage : {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: \"row\",\n        justifyContent : \"space-evenly\",\n        backgroundColor : colours.background\n    },\n\n    textbox : {\n        color: colours.text_secondary,\n        font : 'sans-serif',\n        fontSize: 35,\n        textAlign : \"center\"\n    },\n\n    input : {\n        color : colours.text_primary,\n        borderRadius : 5,\n        height: 100,\n        width: 700,\n        fontSize:70,\n        textAlign : 'center',\n        outlineStyle: 'none'\n    },\n\n    historyContainer : {\n        borderWidth: 1,\n        alignItems: \"center\",\n        borderRadius: 15,\n        padding: 10,\n        flex: 1,\n        alignItems : \"center\",\n        marginRight: 15\n    },\n\n    inputContainer : {\n        flex: 4,\n        alignItems : \"center\"\n    },\n\n    historyText : {\n        fontSize : 18,\n        color: colours.text_primary,\n        font : 'sans-serif',\n        textAlign : \"center\"\n    }\n});\n\nexport default styles;","import { FlatList, View, Text } from \"react-native\";\nimport React from \"react\";\nimport styles from \"../style/styles\";\n\nconst ListItem = ({ time_stamp }) => (\n    <View>\n        <Text style={styles.historyText}>{time_stamp}</Text>\n    </View>\n);\n\nconst AssetHistory = (props) => {  \n    if (typeof(props.history) == \"object\") {\n        var data = props.history;\n    }\n    else {\n        var data = JSON.parse(props.history);\n    }\n    \n    const renderItem = ({item}) => (\n        <ListItem time_stamp={item.time_stamp}/>\n    );\n\n    return (\n        <View>\n           <Text style = {styles.textbox}>History</Text>\n           \n           <FlatList \n                data = {data}\n                renderItem = {renderItem}\n                keyExtractor={item => item.id}\n            />\n        </View>\n    );\n};\n\nexport default AssetHistory;","import React, {useState} from 'react';\nimport { Text, View, TextInput } from 'react-native';\nimport styles from '../style/styles';\nimport { useRef } from 'react';\n\nimport AssetHistory from '../components/asset-history';\nimport getAssetHistory from '../utils/get-asset-history';\n\n\n\nconst AssetTagScanning  = () => {\n    const [text, setText] = React.useState(\"\");\n    const [responseText, setResponseText] = React.useState(\"  \");\n    const [history, setHistory] = React.useState({})\n\n    const scanAssetTag = () => {\n        const asset_tag = text.toUpperCase();\n        \n        //Check that asset tag is valid\n        const re = /^((((B)\\d{5}){1})|(((BK)\\d{6}){1}))$/;\n        \n        if (re.test(asset_tag)) \n            try {\n                //Call API\n                var uri = \"http://localhost:8000/assets/scan/\" + asset_tag;\n                \n                //Call API and set bottom text to HTTP response\n                fetch(uri).then(response=>response.text()).then(data => {setResponseText(data);});\n\n                //Get asset history\n                var uri = \"http://localhost:8000/assets/gethistory/\" + asset_tag;\n                fetch(uri).then(response=>response.text()).then(data => {setHistory(JSON.parse(data));});\n            } catch (error) {\n                alert(error)\n            }\n        \n        else {\n            setResponseText(\"Asset tag invalid, please try again\")\n        }\n        //Clear textbox\n        setText(\"\");\n\n        //Refocus textbox\n        inputRef.focus();\n    };\n\n    const inputRef = useRef();\n\n    return (\n        <View style={styles.mainPage}>\n          <View style = {styles.inputContainer}>\n          \n            <Text style={styles.textbox}>Please scan the asset tag of the device</Text>\n            \n            <TextInput \n                style={styles.input}\n                onChangeText = {setText}\n                value = {text}\n                autoFocus  = {true}\n                onSubmitEditing = {scanAssetTag} \n                ref = {inputRef}\n            />\n\n                <Text style={styles.textbox}>{responseText}</Text>\n            </View>\n            <View style= {styles.historyContainer}>\n\n                <AssetHistory history = {history} />\n            </View>\n        </View>\n    );\n}\n\nexport default AssetTagScanning;","import { StatusBar } from 'expo-status-bar';\nimport { StyleSheet, Text, View } from 'react-native';\n\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nimport AssetTagScanning from './src/views/asset-tag-scanning';\nimport styles from './src/style/styles';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>\n        <Stack.Screen name=\"Home\" component={AssetTagScanning} />\n      </Stack.Navigator>\n    </ NavigationContainer>\n  );\n}"],"sourceRoot":""}